# Implementation Plan: Add Blue Background Color to App

**Branch**: `003-blue-background-app` | **Date**: 2026-02-18 | **Spec**: [spec.md](spec.md)
**Input**: Feature specification from `/specs/003-blue-background-app/spec.md`

## Summary

Update the global CSS custom properties in `frontend/src/index.css` to apply a blue background across the entire application. Light mode uses #DBEAFE (light sky blue), dark mode uses #1E3A8A (deep navy). Both primary (`--color-bg`) and secondary (`--color-bg-secondary`) background tokens are updated in their respective theme selectors. A background-color transition is added to `body` for smooth theme toggling.

## Technical Context

**Language/Version**: TypeScript 5.x (React 18, Vite)
**Primary Dependencies**: React, Vite (no new dependencies required)
**Storage**: N/A
**Testing**: Vitest, Playwright (existing — no new tests requested)
**Target Platform**: Web (all modern browsers)
**Project Type**: Web application with `backend/` (Python/FastAPI) and `frontend/` (TypeScript/Vite)
**Performance Goals**: N/A (CSS-only change, no runtime impact)
**Constraints**: WCAG 2.1 AA contrast compliance (4.5:1 minimum)
**Scale/Scope**: Global CSS variable change affecting all pages and views

## Constitution Check

*GATE: Must pass before Phase 0 research. Re-check after Phase 1 design.*

### Principle I: Specification-First Development — PASS

The feature has a complete `spec.md` with 3 prioritized user stories (P1-P3), Given-When-Then acceptance scenarios, clear scope boundaries, and documented assumptions with WCAG contrast calculations.

### Principle II: Template-Driven Workflow — PASS

All artifacts follow canonical templates. This plan follows the `plan-template.md` structure.

### Principle III: Agent-Orchestrated Execution — PASS

The specify→plan→tasks→implement pipeline is followed. Each phase produces well-defined outputs.

### Principle IV: Test Optionality — PASS

Tests are not explicitly requested in the feature spec. Existing visual regression tests may need baseline updates, noted as a polish task.

### Principle V: Simplicity and DRY — PASS

The change modifies only 4 CSS variable values in a single file plus adds one CSS transition property. No new abstractions, patterns, or dependencies are introduced.

**Gate Result**: ALL PASS — proceed.

## Project Structure

### Documentation (this feature)

```text
specs/003-blue-background-app/
├── plan.md              # This file
├── spec.md              # Feature specification
├── checklists/
│   └── requirements.md  # Quality checklist
└── tasks.md             # Task list (generated by /speckit.tasks)
```

### Source Code (repository root)

```text
frontend/
└── src/
    └── index.css         # Global CSS custom properties (ONLY file modified)
```

**Structure Decision**: Web application with `backend/` and `frontend/`. Changes are confined entirely to the frontend CSS layer — specifically `frontend/src/index.css` where the design tokens are defined. No backend, component, or TypeScript changes are needed.

## Key Technical Details

### Color Values

| Token | Light Mode (`:root`) | Dark Mode (`html.dark-mode-active`) |
|-------|---------------------|-------------------------------------|
| `--color-bg` | `#DBEAFE` | `#1E3A8A` |
| `--color-bg-secondary` | `#BFDBFE` | `#1E3A5C` |

### WCAG Contrast Verification

- Light mode: #DBEAFE with #24292f (text) → ~11.7:1 ratio ✅ (exceeds 4.5:1)
- Dark mode: #1E3A8A with #e6edf3 (text) → ~9.4:1 ratio ✅ (exceeds 4.5:1)

### Theme Transition

Add `transition: background-color 0.3s ease` to `body` rule for smooth theme toggling.

## Complexity Tracking

> No violations found. All Constitution principles pass without justification needed.
